# vim: filetype=muttrc

macro index A \
    "<tag-pattern>~N<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" \
    "mark all new as read"

bind index j next-entry
bind index k previous-entry
bind pager j next-line
bind pager k previous-line

bind attach,index,pager \CD next-page
bind attach,index,pager \CU previous-page

# Pager: make 'g' a prefix, then map gg/G
bind pager g noop
bind pager gg top
bind pager G  bottom

# Index & Attach: make 'g' a prefix, then map gg/G
bind attach,index g noop
bind attach,index gg first-entry
bind attach,index G  last-entry

# Press A to add contact to Khard address book
macro index,pager P \
    "<pipe-message>khard add-email<return>" \
    "add the sender email address to khard"

# Email completion bindings
bind editor <Tab> complete-query

bind index,pager <F5> imap-fetch-mail

# set wait_key = no
# macro index,pager G "<shell-escape>mbsync -a<enter><sync-mailbox><enter>" "Get mail"
macro index,pager G "<shell-escape>mbsync -a<enter><sync-mailbox><enter><shell-escape>notify-send 'NeoMutt' 'Mail sync complete'<enter>" "Get mail"

