# vim: filetype=muttrc
#
unmailboxes *'

# User
set from = "safwanelmadani@arizona.edu"
set realname = "Safwan Elmadani"

set imap_user = "safwanelmadani@arizona.edu"
set folder="imap://outlook.office365.com/"
set smtp_url="smtp://${imap_user}@smtp.office365.com:587/"
set imap_authenticators="oauthbearer:xoauth2"
set imap_oauth_refresh_command="/usr/share/neomutt/oauth2/mutt_oauth2.py /home/safwan/.config/neomutt/safwanelmadani@arizona.edu-token"

set smtp_authenticators=${imap_authenticators}
set smtp_oauth_refresh_command=${imap_oauth_refresh_command}

# set imap_pass = ""
# set smtp_pass = ""
# source "gpg -dq $XDG_CONFIG_HOME/neomutt/gmail.pw.gpg |"

# Ensure TLS is enforced
set ssl_starttls = yes
set ssl_force_tls = yes

# My mailboxes
# Base folder is the IMAP server root
# set folder = "imaps://imap.gmail.com:993/"


# Inbox is at the root
set spoolfile = "+INBOX"

# Gmail special folders
# set postponed = "+[Gmail]/Drafts"
# set record    = "+[Gmail]/Sent Mail"
# set trash     = "+[Gmail]/Trash"

# Mailboxes to show / cycle through
mailboxes = +INBOX #\
            # "+[Gmail]/All Mail" \
            # "+[Gmail]/Important" \
            # "+[Gmail]/Starred" \
            # "+[Gmail]/Drafts" \
            # "+[Gmail]/Sent Mail" \
            # "+[Gmail]/Spam" \
            # "+[Gmail]/Trash"

# Where to put the stuff
set header_cache = "$XDG_CACHE_HOME/mutt/headers"
set message_cachedir = "$XDG_CACHE_HOME/mutt/bodies"
set certificate_file = "$XDG_CACHE_HOME/mutt/certificates"
unset record

# set signature = "~/.config/neomutt/accounts/signatures/gmail"
